import{_ as a,c as i,o as e,ae as t}from"./chunks/framework.Dq7KSw7C.js";const u=JSON.parse('{"title":"Troubleshooting","description":"","frontmatter":{},"headers":[],"relativePath":"documentation/troubleshooting.md","filePath":"documentation/troubleshooting.md"}'),n={name:"documentation/troubleshooting.md"};function o(l,s,r,p,d,h){return e(),i("div",null,s[0]||(s[0]=[t('<h1 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">​</a></h1><h2 id="tauri-issues" tabindex="-1">Tauri Issues <a class="header-anchor" href="#tauri-issues" aria-label="Permalink to &quot;Tauri Issues&quot;">​</a></h2><h3 id="tauri-generate-context-panics" tabindex="-1"><code>tauri::generate_context!() panics</code> <a class="header-anchor" href="#tauri-generate-context-panics" aria-label="Permalink to &quot;`tauri::generate_context!() panics`&quot;">​</a></h3><p>If you get this error:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>   Compiling holochain_cascade v0.3.1</span></span>\n<span class="line"><span>error: proc macro panicked</span></span>\n<span class="line"><span>  --&gt; src-tauri/src/lib.rs:47:14</span></span>\n<span class="line"><span>   |</span></span>\n<span class="line"><span>47 |         .run(tauri::generate_context!())</span></span>\n<span class="line"><span>   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^</span></span>\n<span class="line"><span>   |</span></span>\n<span class="line"><span>   = help: message: failed to read icon /tmp/forum-scaffold-tauri-happ/src-tauri/icons/32x32.png: No such file or directory (os error 2)</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>error: could not compile `forum-scaffold-tauri-happ` (lib) due to previous error</span></span>\n<span class="line"><span>    Error failed to build app: failed to build app</span></span></code></pre></div><p>It means that you haven&#39;t generated the Tauri icons for your app yet. Follow these steps:</p><ol><li><p>Create or download the icon for your app. **It must be a square PNG image.</p></li><li><p>In the root of your project, run this command:</p></li></ol><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-1LJV1" id="tab-Ln7eDI9" checked><label data-title="npm" for="tab-Ln7eDI9">npm</label><input type="radio" name="group-1LJV1" id="tab-IzszTZ7"><label data-title="yarn" for="tab-IzszTZ7">yarn</label><input type="radio" name="group-1LJV1" id="tab-Jzitq4J"><label data-title="pnpm" for="tab-Jzitq4J">pnpm</label></div><div class="blocks"><div class="language-bash vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tauri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> icon</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">PATH_TO_YOUR_ICON_IN_PNG_FORMA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tauri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> icon</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">PATH_TO_YOUR_ICON_IN_PNG_FORMA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tauri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> icon</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">PATH_TO_YOUR_ICON_IN_PNG_FORMA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div></div></div><hr><h3 id="error-have-you-installed-the-android-sdk" tabindex="-1"><code>Error Have you installed the Android SDK?</code> <a class="header-anchor" href="#error-have-you-installed-the-android-sdk" aria-label="Permalink to &quot;`Error Have you installed the Android SDK?`&quot;">​</a></h3><p>If you get this error:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Error Have you installed the Android SDK? The `ANDROID_HOME` environment variable isn&#39;t set, and is required: environment variable not found: environment variable not found</span></span>\n<span class="line"><span>npm run tauri android dev exited with code 1</span></span></code></pre></div><p>It means you are trying to run your app in an Android device, but you are not inside your <code>androidDev</code> devShell, which is the one that includes the Android development environment and tooling.</p><p>Enter the <code>androidDev</code> devShell with:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .#androidDev</span></span></code></pre></div><p>And try again.</p><hr><h3 id="error-android-studio-project-directory-src-tauri-gen-android-doesn-t-exist" tabindex="-1"><code>Error Android Studio project directory src-tauri/gen/android doesn&#39;t exist.</code> <a class="header-anchor" href="#error-android-studio-project-directory-src-tauri-gen-android-doesn-t-exist" aria-label="Permalink to &quot;`Error Android Studio project directory src-tauri/gen/android doesn&#39;t exist.`&quot;">​</a></h3><p>If you get this error:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span> Error Android Studio project directory src-tauri/gen/android doesn&#39;t exist. Please run `tauri android init` and try again.</span></span></code></pre></div><p>It means you haven&#39;t initialized your project for Android developm̀ent yet. You can do so by running:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tauri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> android</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span></code></pre></div><p>And then try running your command again.</p><h2 id="nixos-issues" tabindex="-1">NixOS Issues <a class="header-anchor" href="#nixos-issues" aria-label="Permalink to &quot;NixOS Issues&quot;">​</a></h2><h3 id="connect-to-devices" tabindex="-1">Connect to devices <a class="header-anchor" href="#connect-to-devices" aria-label="Permalink to &quot;Connect to devices&quot;">​</a></h3><p>In NixOS, the command <code>adb devices</code> needs root permissions, so you need to run it like this:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> adb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> devices</span></span></code></pre></div><h3 id="firewall" tabindex="-1">Firewall <a class="header-anchor" href="#firewall" aria-label="Permalink to &quot;Firewall&quot;">​</a></h3><p>In NixOS, the firewall is enabled by default, which means that you can&#39;t directly run <code>npm run network:android</code> and have your Android device connect to the vite server running on your computer.</p><p>Disable the firewall to enable your Android device to connect to it:</p><ol><li>Identify firewall rule number:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> iptables</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> INPUT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --line-numbers</span></span></code></pre></div><p>Choose the firewall rule number that&#39;s blocking the connection (there is usually just one rule, if so pick that one).</p><ol start="2"><li>Remove firewall rule:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> iptables</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> INPUT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">RULE_NU</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">M</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div>',35)]))}const k=a(n,[["render",o]]);export{u as __pageData,k as default};
